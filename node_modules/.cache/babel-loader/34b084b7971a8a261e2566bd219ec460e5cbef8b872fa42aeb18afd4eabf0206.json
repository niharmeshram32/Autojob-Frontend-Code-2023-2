{"ast":null,"code":"import axios from \"axios\";\naxios.defaults.timeout = 100000;\naxios.defaults.baseURL = \"/backend\";\n\n// /**\n//  * http request 拦截器\n//  */\n// axios.interceptors.request.use(\n//     (config) => {\n//         config.data = JSON.stringify(config.data);\n//         config.headers = {\n//             \"Content-Type\": \"application/json\",\n//         };\n//         return config;\n//     },\n//     (error) => {\n//         return Promise.reject(error);\n//     }\n// );\n\n// /**\n//  * http response 拦截器\n//  */\n// axios.interceptors.response.use(\n//     (response) => {\n//         if (response.data.errCode === 2) {\n//             console.log(\"过期\");\n//         }\n//         return response;\n//     },\n//     (error) => {\n//         console.log(\"请求出错：\", error);\n//     }\n// );\n\n/**\n * get\n * @param url\n * @param params\n * @returns {Promise}\n */\nexport function get(url) {\n  let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return new Promise((resolve, reject) => {\n    axios.get(url, {\n      params: params\n    }).then(response => {\n      landing(url, params, response.data);\n      resolve(response.data);\n    }).catch(error => {\n      reject(error);\n    });\n  });\n}\n\n/**\n * post\n * @param url\n * @param data\n * @returns {Promise}\n */\n\nexport function post(url, data) {\n  return new Promise((resolve, reject) => {\n    axios.post(url, data, {\n      headers: {\n        \"Content-Type\": \"application/json; charset=UTF-8\"\n      }\n    }).then(err => {\n      reject(err);\n    });\n  });\n}\n\n/**\n * patch\n * @param url\n * @param data\n * @returns {Promise}\n */\nexport function patch(url) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return new Promise((resolve, reject) => {\n    axios.patch(url, data).then(response => {\n      resolve(response.data);\n    }, err => {\n      msag(err);\n      reject(err);\n    });\n  });\n}\n\n/**\n * put\n * @param url\n * @param data\n * @returns {Promise}\n */\n\nexport function put(url) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return new Promise((resolve, reject) => {\n    axios.put(url, data).then(response => {\n      resolve(response.data);\n    }, err => {\n      msag(err);\n      reject(err);\n    });\n  });\n}\nexport default function (fetch, url, param) {\n  // let _data = \"\";\n  return new Promise((resolve, reject) => {\n    switch (fetch) {\n      case \"get\":\n        console.log(\"begin a get request,and url:\", url);\n        get(url, param).then(function (response) {\n          resolve(response);\n        }).catch(function (error) {\n          console.log(\"get request GET failed.\", error.status);\n          msag(error.status);\n          reject(error);\n        });\n        break;\n      case \"post\":\n        post(url, param).catch(function (resultCode) {\n          msag(resultCode.data.resultCode);\n          console.log(resultCode.data.resultCode);\n        });\n        break;\n      default:\n        break;\n    }\n  });\n}\n\n//failure prompt\nfunction msag(err) {\n  if (err && err.resultCode) {\n    switch (err.resultCode) {\n      case 400:\n        alert(err.response.data.error.details);\n        break;\n      case 401:\n        alert(\"Unauthorized, please log in\");\n        break;\n      case 403:\n        alert(\"Access denied\");\n        break;\n      case 404:\n        alert(\"Request address error\");\n        break;\n      case 408:\n        alert(\"Request timed out\");\n        break;\n      case 500:\n        alert(\"Internal server error\");\n        break;\n      case 501:\n        alert(\"Service not implemented\");\n        break;\n      case 502:\n        alert(\"Gateway error\");\n        break;\n      case 503:\n        alert(\"Service is not available\");\n        break;\n      case 504:\n        alert(\"Gateway timeout\");\n        break;\n      case 505:\n        alert(\"HTTP version not supported\");\n        break;\n      default:\n    }\n  }\n}\n\n/**\n * 查看返回的数据\n * @param url\n * @param params\n * @param data\n */\nfunction landing(url, params, data) {\n  if (data.code === -1) {}\n}","map":{"version":3,"names":["axios","defaults","timeout","baseURL","get","url","params","arguments","length","undefined","Promise","resolve","reject","then","response","landing","data","catch","error","post","headers","err","patch","msag","put","fetch","param","console","log","status","resultCode","alert","details","code"],"sources":["/Users/sjh/Documents/GitHub/Autojob-Frontend-2023-2-master/src/request.js"],"sourcesContent":["import axios from \"axios\"\n\n\naxios.defaults.timeout = 100000;\naxios.defaults.baseURL = \"/backend\";\n\n// /**\n//  * http request 拦截器\n//  */\n// axios.interceptors.request.use(\n//     (config) => {\n//         config.data = JSON.stringify(config.data);\n//         config.headers = {\n//             \"Content-Type\": \"application/json\",\n//         };\n//         return config;\n//     },\n//     (error) => {\n//         return Promise.reject(error);\n//     }\n// );\n\n// /**\n//  * http response 拦截器\n//  */\n// axios.interceptors.response.use(\n//     (response) => {\n//         if (response.data.errCode === 2) {\n//             console.log(\"过期\");\n//         }\n//         return response;\n//     },\n//     (error) => {\n//         console.log(\"请求出错：\", error);\n//     }\n// );\n\n/**\n * get\n * @param url\n * @param params\n * @returns {Promise}\n */\nexport function get(url, params = {}) {\n    return new Promise((resolve, reject) => {\n        axios.get(url, {\n            params: params,\n        }).then((response) => {\n            landing(url, params, response.data);\n            resolve(response.data);\n        })\n            .catch((error) => {\n                reject(error);\n            });\n    });\n}\n\n/**\n * post\n * @param url\n * @param data\n * @returns {Promise}\n */\n\nexport function post(url, data) {\n    return new Promise((resolve, reject) => {\n        axios.post(url, data, {\n            headers: {\"Content-Type\": \"application/json; charset=UTF-8\"}\n        }).then(\n            (err) => {\n                reject(err);\n            }\n        );\n    });\n}\n\n/**\n * patch\n * @param url\n * @param data\n * @returns {Promise}\n */\nexport function patch(url, data = {}) {\n    return new Promise((resolve, reject) => {\n        axios.patch(url, data).then(\n            (response) => {\n                resolve(response.data);\n            },\n            (err) => {\n                msag(err);\n                reject(err);\n            }\n        );\n    });\n}\n\n/**\n * put\n * @param url\n * @param data\n * @returns {Promise}\n */\n\nexport function put(url, data = {}) {\n    return new Promise((resolve, reject) => {\n        axios.put(url, data).then(\n            (response) => {\n                resolve(response.data);\n            },\n            (err) => {\n                msag(err);\n                reject(err);\n            }\n        );\n    });\n}\n\n\nexport default function (fetch, url, param) {\n    // let _data = \"\";\n    return new Promise((resolve, reject) => {\n        switch (fetch) {\n            case \"get\":\n                console.log(\"begin a get request,and url:\", url);\n                get(url, param)\n                    .then(function (response) {\n                        resolve(response);\n                    })\n                    .catch(function (error) {\n                        console.log(\"get request GET failed.\", error.status);\n                        msag(error.status);\n                        reject(error);\n                    });\n                break;\n            case \"post\":\n                post(url, param).catch(function (resultCode) {\n                        msag(resultCode.data.resultCode);\n                        console.log(resultCode.data.resultCode);\n                    });\n                break;\n            default:\n                break;\n        }\n    });\n}\n\n//failure prompt\nfunction msag(err) {\n    if (err && err.resultCode) {\n        switch (err.resultCode) {\n            case 400:\n                alert(err.response.data.error.details);\n                break;\n            case 401:\n                alert(\"Unauthorized, please log in\");\n                break;\n\n            case 403:\n                alert(\"Access denied\");\n                break;\n\n            case 404:\n                alert(\"Request address error\");\n                break;\n\n            case 408:\n                alert(\"Request timed out\");\n                break;\n\n            case 500:\n                alert(\"Internal server error\");\n                break;\n\n            case 501:\n                alert(\"Service not implemented\");\n                break;\n\n            case 502:\n                alert(\"Gateway error\");\n                break;\n\n            case 503:\n                alert(\"Service is not available\");\n                break;\n\n            case 504:\n                alert(\"Gateway timeout\");\n                break;\n\n            case 505:\n                alert(\"HTTP version not supported\");\n                break;\n            default:\n        }\n    }\n}\n\n/**\n * 查看返回的数据\n * @param url\n * @param params\n * @param data\n */\nfunction landing(url, params, data) {\n    if (data.code === -1) {\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}